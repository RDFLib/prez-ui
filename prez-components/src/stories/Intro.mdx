import { Meta } from '@storybook/addon-docs';
import Mermaid from 'react-mermaid2';

<Meta title="Introduction/Overview" />

# Prez V4 Overview

PrezV4 design is organised into separate layers to encapsulate functionality and to provide flexibility for deployment options.

## Prez Components

| Package | Description                        |
|-----------|----------------------------------|
| prez-api  | Prez API python service          |
| prez-lib    | Prez service JS library   |
| prez-components     | Prez UI Vue component library |
| prez-ui      | Prez UI Vue application  |


## Deployment options

1. Standard PrezUI Site --> default installation
2. Customised PrezUI Site --> add your own customisations
3. Custom Vue Site --> add Prez Components to your vue site
4. Custom Site --> use the Prez service layer to retrieve data in an easy to use Prez data model

<Mermaid chart={`graph TD; 
classDef special fill:#ffeb3b,stroke:#fbc02d,stroke-width:2px;
PrezAPI-->PrezLib;
PrezLib-->PrezComponents;
PrezLib-->JS[4. Custom Website]:::special;
PrezComponents-->PrezUI;
PrezComponents-->Vue[3. Custom Vue Site]:::special;
PrezUI-->Std[1. Standard PrezUI Site]:::special;
PrezUI-->Cust[2. Customised PrezUI Site]:::special;
Cust-->Theme[Custom Themes];
Cust-->Pages[Custom Pages];
Cust-->Widgets[Custom Widgets];
`} />


## Data model

<Mermaid chart={`
classDiagram
    class PrezLiteral {
        language?: string
        datatype?: PrezNode
    }
    class PrezTerm {
        <<Type>>
    }
    class PrezNode {
        label?: PrezLiteral
        description?: PrezLiteral
        provenance?: PrezLiteral
        curie?: string
        links?: PrezLink[]
        members?: PrezLink
        rdfTypes?: PrezNode[]
    }
    class PrezFocusNode {
        properties?: PrezProperties
    }
    class PrezConceptSchemeNode {
        topConcepts: PrezConceptNode
    }
    class PrezConceptNode {
        narrowers: PrezConceptNode[]
        hasChildren: boolean
    }
    class PrezBlankNode {
        properties: PrezProperties
    }
    class PrezProperty {
        predicate: PrezNode
        objects: PrezTerm[]
    }
    class PrezProperties {
        [predicateIri: string]: PrezProperty
    }

    PrezTerm <|-- PrezLiteral
    PrezTerm <|-- PrezNode
    PrezNode <|-- PrezFocusNode
    PrezTerm <|-- PrezBlankNode
    PrezTerm <|-- PrezFocusNode
    PrezFocusNode <|-- PrezConceptSchemeNode
    PrezFocusNode <|-- PrezConceptNode
    PrezNode <|-- PrezConceptSchemeNode
    PrezNode <|-- PrezConceptNode

`}/>


## Example applications

| Example          | Description                    |
| ------------------ | -------------------------------- |
|01-PrezUI         | A standard Prez UI application

